Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-30T23:51:41+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.multilingual/commit/5f8f011232af8079177c4ca24a098c2ba44a81b0

Removed Extensions/Install.py.

This was only there as wrapper for applying our uninstall profile, but that wrapper is no longer needed.
I think around Plone 4.3.9 this was added to CMFQuickInstaller,
and since Plone 5.1 the CMFQuickInstaller is not even really used anymore.

Files changed:
M CHANGES.rst
D src/plone/app/multilingual/Extensions/__init__.py
D src/plone/app/multilingual/Extensions/install.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ed262bd6..fecf01ad 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,10 @@ New features:
 
 Bug fixes:
 
+- Removed ``Extensions/Install.py``.  This was only there as wrapper for
+  applying our uninstall profile, but that wrapper is no longer needed.
+  [maurits]
+
 - Marked 'Scenario: As an editor I can translate a document' as noncritical.
   This is a 'robot' test that has been unstable for a long time.
   [maurits]
@@ -30,7 +34,7 @@ Bug fixes:
   when no translations were yet available for the content
   [datakurre]
 
-- Fix issue where rendering universal link failed when trnanslation information
+- Fix issue where rendering universal link failed when translation information
   was not yet available for the content
   [datakurre]
 
diff --git a/src/plone/app/multilingual/Extensions/__init__.py b/src/plone/app/multilingual/Extensions/__init__.py
deleted file mode 100644
index e69de29b..00000000
diff --git a/src/plone/app/multilingual/Extensions/install.py b/src/plone/app/multilingual/Extensions/install.py
deleted file mode 100644
index 975cda29..00000000
--- a/src/plone/app/multilingual/Extensions/install.py
+++ /dev/null
@@ -1,9 +0,0 @@
-# -*- coding: utf-8 -*-
-"""Legacy install/uninstall-methods to guard from re-installing/uninstalling"""
-from Products.CMFCore.utils import getToolByName
-
-
-def uninstall(context, reinstall=False):
-    setup_tool = getToolByName(context, 'portal_setup')
-    setup_tool.runAllImportStepsFromProfile(
-        'profile-plone.app.multilingual:uninstall', purge_old=False)


Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-31T10:13:03+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/fa4bca09c0565525b0b79de8919f692fbfbd34f5

Merge pull request #301 from plone/remove-extensions-install

Removed Extensions/Install.py.

Files changed:
M CHANGES.rst
D src/plone/app/multilingual/Extensions/__init__.py
D src/plone/app/multilingual/Extensions/install.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ed262bd6..fecf01ad 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,10 @@ New features:
 
 Bug fixes:
 
+- Removed ``Extensions/Install.py``.  This was only there as wrapper for
+  applying our uninstall profile, but that wrapper is no longer needed.
+  [maurits]
+
 - Marked 'Scenario: As an editor I can translate a document' as noncritical.
   This is a 'robot' test that has been unstable for a long time.
   [maurits]
@@ -30,7 +34,7 @@ Bug fixes:
   when no translations were yet available for the content
   [datakurre]
 
-- Fix issue where rendering universal link failed when trnanslation information
+- Fix issue where rendering universal link failed when translation information
   was not yet available for the content
   [datakurre]
 
diff --git a/src/plone/app/multilingual/Extensions/__init__.py b/src/plone/app/multilingual/Extensions/__init__.py
deleted file mode 100644
index e69de29b..00000000
diff --git a/src/plone/app/multilingual/Extensions/install.py b/src/plone/app/multilingual/Extensions/install.py
deleted file mode 100644
index 975cda29..00000000
--- a/src/plone/app/multilingual/Extensions/install.py
+++ /dev/null
@@ -1,9 +0,0 @@
-# -*- coding: utf-8 -*-
-"""Legacy install/uninstall-methods to guard from re-installing/uninstalling"""
-from Products.CMFCore.utils import getToolByName
-
-
-def uninstall(context, reinstall=False):
-    setup_tool = getToolByName(context, 'portal_setup')
-    setup_tool.runAllImportStepsFromProfile(
-        'profile-plone.app.multilingual:uninstall', purge_old=False)



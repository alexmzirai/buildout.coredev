Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-25T11:51:13+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.multilingual/commit/a14968ab2a26898e55649116053693cf2458347a

Imports are Python3 compatible

Files changed:
A src/plone/app/multilingual/_compat.py
M CHANGES.rst
M src/plone/app/multilingual/tests/test_sitemap.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5411b02c..351335db 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -41,6 +41,8 @@ New features:
   [jensens]
 
 Bug fixes:
+- Imports are Python3 compatible
+  [ale-rt]
 
 - Fix serialization of query variables for selector links in Zope 4.
   [davisagli]
diff --git a/src/plone/app/multilingual/_compat.py b/src/plone/app/multilingual/_compat.py
new file mode 100644
index 00000000..75466b0f
--- /dev/null
+++ b/src/plone/app/multilingual/_compat.py
@@ -0,0 +1,9 @@
+# coding=utf-8
+import sys
+
+
+PY3 = sys.version_info[0] == 3
+if PY3:
+    from io import StringIO
+else:
+    from StringIO import StringIO
diff --git a/src/plone/app/multilingual/tests/test_sitemap.py b/src/plone/app/multilingual/tests/test_sitemap.py
index 7bb0fcaf..3a223ba9 100644
--- a/src/plone/app/multilingual/tests/test_sitemap.py
+++ b/src/plone/app/multilingual/tests/test_sitemap.py
@@ -1,6 +1,6 @@
 # -*- coding: utf-8 -*-
-from StringIO import StringIO
 from gzip import GzipFile
+from plone.app.multilingual._compat import StringIO
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer


Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-25T11:51:13+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/f5f7c18a7e4bd791257d0b6c9a93e96ba736bcb0

use sixer

Files changed:
M CHANGES.rst
M src/plone/app/multilingual/browser/helper_views.py
M src/plone/app/multilingual/browser/migrator.py
M src/plone/app/multilingual/browser/modify.py
M src/plone/app/multilingual/browser/selector.py
M src/plone/app/multilingual/browser/setup.py
M src/plone/app/multilingual/browser/translate.py
M src/plone/app/multilingual/browser/viewlets.py
M src/plone/app/multilingual/dx/form.py
M src/plone/app/multilingual/tests/test_sitemap.py
D src/plone/app/multilingual/_compat.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 351335db..1f42acaa 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -42,7 +42,7 @@ New features:
 
 Bug fixes:
 - Imports are Python3 compatible
-  [ale-rt]
+  [ale-rt, jensens]
 
 - Fix serialization of query variables for selector links in Zope 4.
   [davisagli]
diff --git a/src/plone/app/multilingual/_compat.py b/src/plone/app/multilingual/_compat.py
deleted file mode 100644
index 75466b0f..00000000
--- a/src/plone/app/multilingual/_compat.py
+++ /dev/null
@@ -1,9 +0,0 @@
-# coding=utf-8
-import sys
-
-
-PY3 = sys.version_info[0] == 3
-if PY3:
-    from io import StringIO
-else:
-    from StringIO import StringIO
diff --git a/src/plone/app/multilingual/browser/helper_views.py b/src/plone/app/multilingual/browser/helper_views.py
index 34cd0a2f..63cd6a17 100644
--- a/src/plone/app/multilingual/browser/helper_views.py
+++ b/src/plone/app/multilingual/browser/helper_views.py
@@ -167,7 +167,7 @@ def getClosestDestination(self):
         if prefered in languages:
             context = languages[prefered]
         else:
-            context = languages[languages.keys()[0]]
+            context = languages[list(languages.keys())[0]]
 
         checkPermission = getSecurityManager().checkPermission
         chain = self.getParentChain(context)
diff --git a/src/plone/app/multilingual/browser/migrator.py b/src/plone/app/multilingual/browser/migrator.py
index 16fb9eb1..c498b60c 100644
--- a/src/plone/app/multilingual/browser/migrator.py
+++ b/src/plone/app/multilingual/browser/migrator.py
@@ -203,7 +203,7 @@ def step1andstep2(self):
                                    '/'.join(content.getPhysicalPath()),
                                    '/'.join(target_folder.getPhysicalPath()))
                         log = logger.info
-                    except Exception, err:
+                    except Exception as err:
                         info_str = "ERROR. Step 2: not possible to move " \
                             "object %s to folder %s. Error: %s" % (
                                 '/'.join(content.getPhysicalPath()),
@@ -256,7 +256,7 @@ def step3(self):
                         info_str = "Moved object %s to language root folder "\
                             "%s" % (old_path, lang)
                         log = logger.info
-                    except Exception, err:
+                    except Exception as err:
                         info_str = "ERROR. Step 3: not possible to move "\
                             "object %s to root language folder %s. Error: %s"\
                             % (old_path, lang, err)
diff --git a/src/plone/app/multilingual/browser/modify.py b/src/plone/app/multilingual/browser/modify.py
index 88fd2e79..5f6034d7 100644
--- a/src/plone/app/multilingual/browser/modify.py
+++ b/src/plone/app/multilingual/browser/modify.py
@@ -73,7 +73,7 @@ def __call__(self):
                 manager = ITranslationManager(context)
                 try:
                     manager.remove_translation(language)
-                except Exception, e:
+                except Exception as e:
                     messages = IStatusMessage(self.request)
                     messages.addStatusMessage(e, type='error')
 
diff --git a/src/plone/app/multilingual/browser/selector.py b/src/plone/app/multilingual/browser/selector.py
index 64550bf2..6d69944e 100644
--- a/src/plone/app/multilingual/browser/selector.py
+++ b/src/plone/app/multilingual/browser/selector.py
@@ -7,6 +7,9 @@
 from zope.component.hooks import getSite
 
 
+import six
+
+
 def addQuery(request, url, exclude=tuple(), **extras):
     """Adds the incoming GET query to the end of the url
     so that is propagated through the redirect hoops
@@ -14,12 +17,12 @@ def addQuery(request, url, exclude=tuple(), **extras):
     formvariables = {}
     for k, v in request.form.items():
         if k not in exclude:
-            if isinstance(v, unicode):
+            if isinstance(v, six.text_type):
                 formvariables[k] = v.encode('utf-8')
             else:
                 formvariables[k] = v
     for k, v in extras.items():
-        if isinstance(v, unicode):
+        if isinstance(v, six.text_type):
             formvariables[k] = v.encode('utf-8')
         else:
             formvariables[k] = v
diff --git a/src/plone/app/multilingual/browser/setup.py b/src/plone/app/multilingual/browser/setup.py
index 99e74b43..cf5f8837 100644
--- a/src/plone/app/multilingual/browser/setup.py
+++ b/src/plone/app/multilingual/browser/setup.py
@@ -95,7 +95,7 @@ def linkTranslations(self):
 
         try:
             canonical = ITranslationManager(self.folders[self.defaultLanguage])
-        except TypeError, e:
+        except TypeError as e:
             raise TypeError(str(e) + u' Are your folders ITranslatable?')
 
         for language in self.languages:
@@ -234,7 +234,7 @@ def resetDefaultPage(self):
 
         try:
             target.manage_pasteObjects(objects)
-        except ValueError, exc:
+        except ValueError as exc:
             # This portal_type may not be allowed.  This should not be
             # fatal, so we only log a warning.
             logger.warn((u"Could not move default page '{0:s}' j"
diff --git a/src/plone/app/multilingual/browser/translate.py b/src/plone/app/multilingual/browser/translate.py
index 0114d993..83166233 100644
--- a/src/plone/app/multilingual/browser/translate.py
+++ b/src/plone/app/multilingual/browser/translate.py
@@ -9,7 +9,8 @@
 from plone.uuid.interfaces import IUUID
 from zope.component import getUtility
 import json
-import urllib
+
+from six.moves import urllib
 
 
 def google_translate(question, key, lang_target, lang_source):
@@ -27,9 +28,9 @@ def google_translate(question, key, lang_target, lang_source):
                 'target': lang_target,
                 'source': lang_source,
                 'q': temp_question}
-        params = urllib.urlencode(data)
+        params = urllib.parse.urlencode(data)
 
-        retorn = urllib.urlopen(url + '?' + params)
+        retorn = urllib.request.urlopen(url + '?' + params)
         translated += json.loads(
             retorn.read())['data']['translations'][0]['translatedText']
 
@@ -37,9 +38,9 @@ def google_translate(question, key, lang_target, lang_source):
             'target': lang_target,
             'source': lang_source,
             'q': temp_question}
-    params = urllib.urlencode(data)
+    params = urllib.parse.urlencode(data)
 
-    retorn = urllib.urlopen(url + '?' + params)
+    retorn = urllib.request.urlopen(url + '?' + params)
     translated += json.loads(
         retorn.read())['data']['translations'][0]['translatedText']
     return json.dumps({'data': translated})
diff --git a/src/plone/app/multilingual/browser/viewlets.py b/src/plone/app/multilingual/browser/viewlets.py
index 340032b6..a94c21b7 100644
--- a/src/plone/app/multilingual/browser/viewlets.py
+++ b/src/plone/app/multilingual/browser/viewlets.py
@@ -5,7 +5,8 @@
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.memoize import ram
-from urllib import quote_plus
+
+from six.moves.urllib.parse import quote_plus
 
 
 def _cache_until_catalog_change(fun, self):
diff --git a/src/plone/app/multilingual/dx/form.py b/src/plone/app/multilingual/dx/form.py
index a66bd29d..452709d2 100644
--- a/src/plone/app/multilingual/dx/form.py
+++ b/src/plone/app/multilingual/dx/form.py
@@ -81,7 +81,7 @@ def get(self):
 
             if len(result) >= 1:
 
-                orig_lang = result.keys()[0]
+                orig_lang = list(result.keys())[0]
                 obj = result[orig_lang]
                 name = self.field.__name__
                 # XXX
diff --git a/src/plone/app/multilingual/tests/test_sitemap.py b/src/plone/app/multilingual/tests/test_sitemap.py
index 3a223ba9..86dd81e9 100644
--- a/src/plone/app/multilingual/tests/test_sitemap.py
+++ b/src/plone/app/multilingual/tests/test_sitemap.py
@@ -1,6 +1,5 @@
 # -*- coding: utf-8 -*-
 from gzip import GzipFile
-from plone.app.multilingual._compat import StringIO
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
@@ -13,6 +12,9 @@
 import unittest
 
 
+from six import StringIO
+
+
 # This class largely inspired by plone/app/layout/sitemap/tests/test_sitemap.py
 class TestSitemap(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING


Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-25T11:57:55+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/379b92c2354a218dc81e9a30cb7d1c46ea6ad532

isort

Files changed:
M bootstrap.py
M docs/conf.py
M src/plone/app/multilingual/__init__.py
M src/plone/app/multilingual/browser/add.py
M src/plone/app/multilingual/browser/controlpanel.py
M src/plone/app/multilingual/browser/edit.py
M src/plone/app/multilingual/browser/helper_views.py
M src/plone/app/multilingual/browser/interfaces.py
M src/plone/app/multilingual/browser/menu.py
M src/plone/app/multilingual/browser/migrator.py
M src/plone/app/multilingual/browser/modify.py
M src/plone/app/multilingual/browser/selector.py
M src/plone/app/multilingual/browser/setup.py
M src/plone/app/multilingual/browser/translate.py
M src/plone/app/multilingual/browser/utils.py
M src/plone/app/multilingual/browser/viewlets.py
M src/plone/app/multilingual/browser/vocabularies.py
M src/plone/app/multilingual/dx/cloner.py
M src/plone/app/multilingual/dx/directives.py
M src/plone/app/multilingual/dx/form.py
M src/plone/app/multilingual/dx/interfaces.py
M src/plone/app/multilingual/dx/language.py
M src/plone/app/multilingual/dx/schemaeditor.py
M src/plone/app/multilingual/dx/subscriber.py
M src/plone/app/multilingual/factory.py
M src/plone/app/multilingual/indexer.py
M src/plone/app/multilingual/interfaces.py
M src/plone/app/multilingual/manager.py
M src/plone/app/multilingual/setuphandlers.py
M src/plone/app/multilingual/subscriber.py
M src/plone/app/multilingual/testing.py
M src/plone/app/multilingual/tests/test_alternates.py
M src/plone/app/multilingual/tests/test_api.py
M src/plone/app/multilingual/tests/test_catalog.py
M src/plone/app/multilingual/tests/test_directives.py
M src/plone/app/multilingual/tests/test_form.py
M src/plone/app/multilingual/tests/test_helper_views.py
M src/plone/app/multilingual/tests/test_lif.py
M src/plone/app/multilingual/tests/test_lrf.py
M src/plone/app/multilingual/tests/test_menu.py
M src/plone/app/multilingual/tests/test_robot.py
M src/plone/app/multilingual/tests/test_selector.py
M src/plone/app/multilingual/tests/test_setup.py
M src/plone/app/multilingual/tests/test_sitemap.py
M src/plone/app/multilingual/tests/test_subscribers.py
M src/plone/app/multilingual/tests/test_vocabularies.py
M src/plone/app/multilingual/upgrades.py

diff --git a/bootstrap.py b/bootstrap.py
index a6295667..d1c8acb3 100644
--- a/bootstrap.py
+++ b/bootstrap.py
@@ -18,12 +18,17 @@
 use the -c option to specify an alternate configuration file.
 """
 
+from optparse import OptionParser
+
 import os
+import pkg_resources
+import setuptools
 import shutil
+import subprocess
 import sys
 import tempfile
+import zc.buildout.buildout
 
-from optparse import OptionParser
 
 tmpeggs = tempfile.mkdtemp()
 
@@ -96,8 +101,6 @@
     setup_args['version'] = options.setuptools_version
 
 ez['use_setuptools'](**setup_args)
-import setuptools
-import pkg_resources
 
 # This does not (always?) update the default working set.  We will
 # do it.
@@ -166,7 +169,6 @@ def _final_version(parsed_version):
     requirement = '=='.join((requirement, version))
 cmd.append(requirement)
 
-import subprocess
 if subprocess.call(cmd, env=dict(os.environ, PYTHONPATH=setuptools_path)) != 0:
     raise Exception(
         "Failed to execute command:\n%s" % repr(cmd)[1:-1])
@@ -176,7 +178,6 @@ def _final_version(parsed_version):
 
 ws.add_entry(tmpeggs)
 ws.require(requirement)
-import zc.buildout.buildout
 
 if not [a for a in args if '=' not in a]:
     args.append('bootstrap')
diff --git a/docs/conf.py b/docs/conf.py
index 25bfc199..f2e2ac43 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -11,7 +11,9 @@
 # All configuration values have a default; values that are commented out
 # serve to show the default.
 
-import sys, os
+import os
+import sys
+
 
 # If extensions (or modules to document with autodoc) are in another directory,
 # add these directories to sys.path here. If the directory is relative to the
diff --git a/src/plone/app/multilingual/__init__.py b/src/plone/app/multilingual/__init__.py
index 11b9beef..6826e004 100644
--- a/src/plone/app/multilingual/__init__.py
+++ b/src/plone/app/multilingual/__init__.py
@@ -1,8 +1,10 @@
 # -*- coding: utf-8 -*-
 from zope.i18nmessageid import MessageFactory
+
 import logging
 import pkg_resources
 
+
 try:
     pkg_resources.get_distribution('Products.LinguaPlone')
 except pkg_resources.DistributionNotFound:
diff --git a/src/plone/app/multilingual/browser/add.py b/src/plone/app/multilingual/browser/add.py
index ad42ea07..e3ff90fe 100644
--- a/src/plone/app/multilingual/browser/add.py
+++ b/src/plone/app/multilingual/browser/add.py
@@ -1,10 +1,6 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.interfaces import IFolderish
-from Products.CMFCore.utils import getToolByName
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
 from plone.app.multilingual.dx.interfaces import IMultilingualAddForm
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.events import ObjectTranslatedEvent
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITG
@@ -14,12 +10,16 @@
 from plone.dexterity.interfaces import IDexterityContent
 from plone.registry.interfaces import IRegistry
 from plone.z3cform.fieldsets.group import Group
+from Products.CMFCore.interfaces import IFolderish
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import adapter
 from zope.component import getUtility
 from zope.component import queryMultiAdapter
 from zope.event import notify
-from zope.interface import Interface
 from zope.interface import implementer
+from zope.interface import Interface
 from zope.traversing.interfaces import ITraversable
 from zope.traversing.interfaces import TraversalError
 
diff --git a/src/plone/app/multilingual/browser/controlpanel.py b/src/plone/app/multilingual/browser/controlpanel.py
index ed607f86..c2acb172 100644
--- a/src/plone/app/multilingual/browser/controlpanel.py
+++ b/src/plone/app/multilingual/browser/controlpanel.py
@@ -1,28 +1,26 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from Products.statusmessages.interfaces import IStatusMessage
-from Products.CMFPlone.controlpanel.browser.language import \
-    LanguageControlPanelForm
-from plone.app.registry.browser import controlpanel
-
 from plone.app.multilingual import isLPinstalled
 from plone.app.multilingual.browser.migrator import portal_types_blacklist
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.registry.browser import controlpanel
 from plone.app.uuid.utils import uuidToObject
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.controlpanel.browser.language import LanguageControlPanelForm
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
+from Products.statusmessages.interfaces import IStatusMessage
+from z3c.form import button
 from zc.relation.interfaces import ICatalog as IRelationCatalog
 from zope.component import getUtility
 from zope.component.interfaces import ComponentLookupError
 from zope.i18nmessageid import MessageFactory
 from zope.schema.interfaces import IVocabularyFactory
-from z3c.form import button
-
 
 import json
 
+
 _ = MessageFactory('plone.app.multilingual')
 
 
diff --git a/src/plone/app/multilingual/browser/edit.py b/src/plone/app/multilingual/browser/edit.py
index a2390643..1da427bf 100644
--- a/src/plone/app/multilingual/browser/edit.py
+++ b/src/plone/app/multilingual/browser/edit.py
@@ -1,7 +1,5 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_inner
-from Products.CMFCore.utils import getToolByName
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
@@ -9,6 +7,8 @@
 from plone.dexterity.browser.edit import DefaultEditForm
 from plone.registry.interfaces import IRegistry
 from plone.z3cform import layout
+from Products.CMFCore.utils import getToolByName
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import getUtility
 
 
diff --git a/src/plone/app/multilingual/browser/helper_views.py b/src/plone/app/multilingual/browser/helper_views.py
index 63cd6a17..f36a925f 100644
--- a/src/plone/app/multilingual/browser/helper_views.py
+++ b/src/plone/app/multilingual/browser/helper_views.py
@@ -1,23 +1,23 @@
 # -*- coding: utf-8 -*-
 from AccessControl.SecurityManagement import getSecurityManager
 from Acquisition import aq_chain
-from Products.CMFCore.interfaces import ISiteRoot
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from plone.i18n.interfaces import INegotiateLanguage
 from borg.localrole.interfaces import IFactoryTempFolder
 from plone.app.layout.navigation.interfaces import INavigationRoot
-from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
-from plone.app.multilingual.interfaces import ITG
-from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.browser.selector import addQuery
+from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.interfaces import ILanguageRootFolder
+from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.manager import TranslationManager
+from plone.i18n.interfaces import INegotiateLanguage
 from plone.i18n.locales.interfaces import IContentLanguageAvailability
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.interfaces import ISiteRoot
+from Products.CMFCore.utils import getToolByName
+from Products.Five import BrowserView
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.component.hooks import getSite
@@ -26,6 +26,7 @@
 from zope.publisher.interfaces import IPublishTraverse
 from zope.publisher.interfaces import NotFound
 
+
 try:
     from Products.ATContentTypes.interfaces.factory import IFactoryTool
 except ImportError:
diff --git a/src/plone/app/multilingual/browser/interfaces.py b/src/plone/app/multilingual/browser/interfaces.py
index a2b4003c..28b35c7a 100644
--- a/src/plone/app/multilingual/browser/interfaces.py
+++ b/src/plone/app/multilingual/browser/interfaces.py
@@ -12,9 +12,9 @@
 from zope import schema
 from zope.browsermenu.interfaces import IBrowserMenu
 from zope.browsermenu.interfaces import IBrowserSubMenuItem
+from zope.component.hooks import getSite
 from zope.interface import provider
 from zope.schema.interfaces import IContextAwareDefaultFactory
-from zope.component.hooks import getSite
 
 import pkg_resources
 
diff --git a/src/plone/app/multilingual/browser/menu.py b/src/plone/app/multilingual/browser/menu.py
index 4a97268f..958cc95d 100644
--- a/src/plone/app/multilingual/browser/menu.py
+++ b/src/plone/app/multilingual/browser/menu.py
@@ -1,9 +1,6 @@
 # -*- coding: utf-8 -*-
 from AccessControl import getSecurityManager
 from Acquisition import aq_parent
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import safe_unicode
-from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual import _
 from plone.app.multilingual.browser.interfaces import ITranslateMenu
 from plone.app.multilingual.browser.interfaces import ITranslateSubMenuItem
@@ -11,8 +8,7 @@
 from plone.app.multilingual.browser.vocabularies import translated_languages
 from plone.app.multilingual.browser.vocabularies import translated_urls
 from plone.app.multilingual.browser.vocabularies import untranslated_languages
-from Products.CMFPlone.defaultpage import is_default_page
-from Products.CMFPlone.interfaces import ILanguage
+from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITG
@@ -22,6 +18,10 @@
 from plone.app.multilingual.permissions import ManageTranslations
 from plone.memoize import view
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.defaultpage import is_default_page
+from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import safe_unicode
 from zope.browsermenu.menu import BrowserMenu
 from zope.browsermenu.menu import BrowserSubMenuItem
 from zope.component import getUtility
diff --git a/src/plone/app/multilingual/browser/migrator.py b/src/plone/app/multilingual/browser/migrator.py
index c498b60c..c278090c 100644
--- a/src/plone/app/multilingual/browser/migrator.py
+++ b/src/plone/app/multilingual/browser/migrator.py
@@ -2,21 +2,22 @@
 from Acquisition import aq_base
 from Acquisition import aq_inner
 from Acquisition import aq_parent
+from plone.app.multilingual import _
+from plone.app.multilingual.content.lrf import LanguageRootFolder
+from plone.app.multilingual.interfaces import ITranslationManager
+from plone.locking.interfaces import ILockable
 from Products.CMFCore.exceptions import ResourceLockedError
 from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from Products.CMFPlone.interfaces import IPloneSiteRoot
 from Products.Five import BrowserView
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from plone.app.multilingual import _
-from plone.app.multilingual.content.lrf import LanguageRootFolder
-from Products.CMFPlone.interfaces import ILanguage
-from plone.app.multilingual.interfaces import ITranslationManager
-from plone.locking.interfaces import ILockable
 from zc.relation.interfaces import ICatalog
 from zope.component import getUtility
 from zope.component.hooks import getSite
 from zope.component.interfaces import ComponentLookupError
 from zope.interface import Interface
+
 import logging
 
 
diff --git a/src/plone/app/multilingual/browser/modify.py b/src/plone/app/multilingual/browser/modify.py
index 5f6034d7..e76ffd1a 100644
--- a/src/plone/app/multilingual/browser/modify.py
+++ b/src/plone/app/multilingual/browser/modify.py
@@ -13,8 +13,10 @@
 from z3c.form import button
 from z3c.form.form import Form
 from zope.component import getUtility
+
 import logging
 
+
 logger = logging.getLogger(__name__)
 
 
diff --git a/src/plone/app/multilingual/browser/selector.py b/src/plone/app/multilingual/browser/selector.py
index 6d69944e..2f0ac192 100644
--- a/src/plone/app/multilingual/browser/selector.py
+++ b/src/plone/app/multilingual/browser/selector.py
@@ -1,11 +1,10 @@
 # -*- coding: utf-8 -*-
-from ZTUtils import make_query
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import NOTG
 from zope.component import queryAdapter
 from zope.component.hooks import getSite
-
+from ZTUtils import make_query
 
 import six
 
diff --git a/src/plone/app/multilingual/browser/setup.py b/src/plone/app/multilingual/browser/setup.py
index cf5f8837..0341921e 100644
--- a/src/plone/app/multilingual/browser/setup.py
+++ b/src/plone/app/multilingual/browser/setup.py
@@ -1,13 +1,9 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import _createObjectByType
-from Products.Five import BrowserView
 from logging import getLogger
 from plone.app.dexterity.behaviors.exclfromnav import IExcludeFromNavigation
 from plone.app.layout.navigation.interfaces import INavigationRoot
-from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual import _
+from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
@@ -15,12 +11,17 @@
 from plone.dexterity.interfaces import IDexterityFTI
 from plone.i18n.locales.languages import _combinedlanguagelist
 from plone.i18n.locales.languages import _languagelist
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import _createObjectByType
+from Products.Five import BrowserView
 from zope.component.hooks import getSite
 from zope.event import notify
 from zope.i18n import translate
 from zope.interface import alsoProvides
 from zope.lifecycleevent import modified
 
+
 logger = getLogger('plone.app.multilingual')
 
 
diff --git a/src/plone/app/multilingual/browser/translate.py b/src/plone/app/multilingual/browser/translate.py
index 83166233..b227aa3c 100644
--- a/src/plone/app/multilingual/browser/translate.py
+++ b/src/plone/app/multilingual/browser/translate.py
@@ -1,16 +1,16 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_inner
-from Products.Five import BrowserView
 from plone.app.multilingual import _
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.registry.interfaces import IRegistry
 from plone.uuid.interfaces import IUUID
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
+from six.moves import urllib
 from zope.component import getUtility
-import json
 
-from six.moves import urllib
+import json
 
 
 def google_translate(question, key, lang_target, lang_source):
diff --git a/src/plone/app/multilingual/browser/utils.py b/src/plone/app/multilingual/browser/utils.py
index a2d75238..347c69dc 100644
--- a/src/plone/app/multilingual/browser/utils.py
+++ b/src/plone/app/multilingual/browser/utils.py
@@ -3,11 +3,8 @@
 from Acquisition import aq_chain
 from Acquisition import aq_inner
 from Acquisition import aq_parent
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFolder
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITranslationLocator
@@ -15,6 +12,9 @@
 from plone.app.multilingual.manager import TranslationManager
 from plone.i18n.locales.interfaces import IContentLanguageAvailability
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.component.hooks import getSite
diff --git a/src/plone/app/multilingual/browser/viewlets.py b/src/plone/app/multilingual/browser/viewlets.py
index a94c21b7..b645992e 100644
--- a/src/plone/app/multilingual/browser/viewlets.py
+++ b/src/plone/app/multilingual/browser/viewlets.py
@@ -1,11 +1,10 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.layout.viewlets.common import ViewletBase
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.memoize import ram
-
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from six.moves.urllib.parse import quote_plus
 
 
diff --git a/src/plone/app/multilingual/browser/vocabularies.py b/src/plone/app/multilingual/browser/vocabularies.py
index f24a0170..2638fa16 100644
--- a/src/plone/app/multilingual/browser/vocabularies.py
+++ b/src/plone/app/multilingual/browser/vocabularies.py
@@ -1,10 +1,10 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.browser.utils import is_language_independent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.vocabularies.catalog import CatalogVocabularyFactory
 from plone.i18n.locales.interfaces import ILanguageAvailability
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component import getGlobalSiteManager
 from zope.interface import implementer
 from zope.interface import provider
diff --git a/src/plone/app/multilingual/dx/cloner.py b/src/plone/app/multilingual/dx/cloner.py
index 4c446c36..fec1ac19 100644
--- a/src/plone/app/multilingual/dx/cloner.py
+++ b/src/plone/app/multilingual/dx/cloner.py
@@ -14,6 +14,8 @@
 from zope.interface import implementer
 
 import pkg_resources
+
+
 try:
     # pkg_resources.get_distribution('zope.initd')
     from zope.intid.interfaces import IIntIds
diff --git a/src/plone/app/multilingual/dx/directives.py b/src/plone/app/multilingual/dx/directives.py
index 53d1a730..befeb3d7 100644
--- a/src/plone/app/multilingual/dx/directives.py
+++ b/src/plone/app/multilingual/dx/directives.py
@@ -3,8 +3,8 @@
 from plone.app.multilingual.dx.interfaces import MULTILINGUAL_KEY
 from plone.supermodel.directives import CheckerPlugin
 from plone.supermodel.directives import MetadataListDirective
-from zope.interface import Interface
 from zope.interface import alsoProvides
+from zope.interface import Interface
 from zope.interface.interfaces import IInterface
 
 
diff --git a/src/plone/app/multilingual/dx/form.py b/src/plone/app/multilingual/dx/form.py
index 452709d2..db591e91 100644
--- a/src/plone/app/multilingual/dx/form.py
+++ b/src/plone/app/multilingual/dx/form.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_base
-from Products.CMFCore.utils import getToolByName
 from interfaces import ILanguageIndependentField
 from plone.app.multilingual.manager import TranslationManager
+from Products.CMFCore.utils import getToolByName
 from z3c.form.interfaces import DISPLAY_MODE
 from z3c.form.interfaces import IValue
 from z3c.form.interfaces import NO_VALUE
diff --git a/src/plone/app/multilingual/dx/interfaces.py b/src/plone/app/multilingual/dx/interfaces.py
index c814b746..12b4dc27 100644
--- a/src/plone/app/multilingual/dx/interfaces.py
+++ b/src/plone/app/multilingual/dx/interfaces.py
@@ -2,6 +2,7 @@
 from plone.app.multilingual.interfaces import ITranslatable
 from zope.interface import Interface
 
+
 MULTILINGUAL_KEY = u'plone.app.multilingual.languageindependent'
 
 
diff --git a/src/plone/app/multilingual/dx/language.py b/src/plone/app/multilingual/dx/language.py
index 9222032e..85f92ad0 100644
--- a/src/plone/app/multilingual/dx/language.py
+++ b/src/plone/app/multilingual/dx/language.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 # from plone.app.dexterity.behaviors.metadata import ICategorization
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
+from Products.CMFPlone.interfaces import ILanguage
 from zope.interface import implementer
 
 
diff --git a/src/plone/app/multilingual/dx/schemaeditor.py b/src/plone/app/multilingual/dx/schemaeditor.py
index 4bcd09c0..823eee4c 100644
--- a/src/plone/app/multilingual/dx/schemaeditor.py
+++ b/src/plone/app/multilingual/dx/schemaeditor.py
@@ -6,13 +6,14 @@
 from zope.component import adapter
 from zope.component import provideAdapter
 from zope.i18nmessageid import MessageFactory
-from zope.interface import Interface
 from zope.interface import alsoProvides
 from zope.interface import implementer
+from zope.interface import Interface
 from zope.interface import noLongerProvides
 from zope.schema import interfaces
 from zope.schema.interfaces import IField
 
+
 PMF = MessageFactory('plone.app.multilingual')
 
 
diff --git a/src/plone/app/multilingual/dx/subscriber.py b/src/plone/app/multilingual/dx/subscriber.py
index 7856832f..c0a1f1a2 100644
--- a/src/plone/app/multilingual/dx/subscriber.py
+++ b/src/plone/app/multilingual/dx/subscriber.py
@@ -3,15 +3,15 @@
 from AccessControl.SecurityManagement import newSecurityManager
 from AccessControl.SecurityManagement import setSecurityManager
 from AccessControl.users import UnrestrictedUser
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.dexterity.interfaces import IDexterityFTI
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component import getUtility
 from zope.component import queryAdapter
 from zope.event import notify
diff --git a/src/plone/app/multilingual/factory.py b/src/plone/app/multilingual/factory.py
index cb14eb91..5714668a 100644
--- a/src/plone/app/multilingual/factory.py
+++ b/src/plone/app/multilingual/factory.py
@@ -1,6 +1,5 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_parent
-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual.interfaces import ITranslationCloner
@@ -8,6 +7,7 @@
 from plone.app.multilingual.interfaces import ITranslationIdChooser
 from plone.app.multilingual.interfaces import ITranslationLocator
 from plone.app.multilingual.interfaces import ITranslationManager
+from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from zope.interface import implementer
 
 
diff --git a/src/plone/app/multilingual/indexer.py b/src/plone/app/multilingual/indexer.py
index e4e21107..1e7ca8c3 100644
--- a/src/plone/app/multilingual/indexer.py
+++ b/src/plone/app/multilingual/indexer.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.indexer import indexer
+from Products.CMFPlone.interfaces import ILanguage
 
 
 @indexer(ITranslatable)
diff --git a/src/plone/app/multilingual/interfaces.py b/src/plone/app/multilingual/interfaces.py
index 925c0b89..a94c58ef 100644
--- a/src/plone/app/multilingual/interfaces.py
+++ b/src/plone/app/multilingual/interfaces.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import _
+from plone.supermodel import model
+from Products.CMFPlone.interfaces import ILanguageSchema
 from zope import schema
 from zope.interface import Attribute
 from zope.interface import Interface
 from zope.schema.vocabulary import SimpleTerm
 from zope.schema.vocabulary import SimpleVocabulary
-from Products.CMFPlone.interfaces import ILanguageSchema
-from plone.supermodel import model
+
 
 # CONSTANTS
 SHARED_NAME = 'shared'
diff --git a/src/plone/app/multilingual/manager.py b/src/plone/app/multilingual/manager.py
index 76022aac..96932f0f 100644
--- a/src/plone/app/multilingual/manager.py
+++ b/src/plone/app/multilingual/manager.py
@@ -1,8 +1,6 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.events import ObjectTranslatedEvent
 from plone.app.multilingual.events import ObjectWillBeTranslatedEvent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMutableTG
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslationFactory
@@ -13,6 +11,8 @@
 from plone.app.uuid.utils import uuidToObject
 from plone.uuid.handlers import addAttributeUUID
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.event import notify
 from zope.interface import implementer
 from zope.site.hooks import getSite
diff --git a/src/plone/app/multilingual/setuphandlers.py b/src/plone/app/multilingual/setuphandlers.py
index c5da03fd..8f56cf18 100644
--- a/src/plone/app/multilingual/setuphandlers.py
+++ b/src/plone/app/multilingual/setuphandlers.py
@@ -1,11 +1,12 @@
 # -*- coding: utf-8 -*-
-from Products.CMFPlone.interfaces import INonInstallable
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
+from Products.CMFPlone.interfaces import INonInstallable
 from zope.component.hooks import getSite
 from zope.interface import implementer
 
 import pkg_resources
 
+
 try:
     pkg_resources.get_distribution('plone.app.contenttypes')
 except pkg_resources.DistributionNotFound:
diff --git a/src/plone/app/multilingual/subscriber.py b/src/plone/app/multilingual/subscriber.py
index d0fe55da..582a4890 100644
--- a/src/plone/app/multilingual/subscriber.py
+++ b/src/plone/app/multilingual/subscriber.py
@@ -1,22 +1,22 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_parent
-from Products.CMFCore.interfaces import IFolderish
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.browser.utils import is_language_independent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import ILanguageIndependentFolder
 from plone.app.multilingual.interfaces import IMutableTG
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
 from plone.dexterity.interfaces import IDexterityContent
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.interfaces import IFolderish
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component.hooks import getSite
 from zope.globalrequest import getRequest
 from zope.lifecycleevent import modified
 from zope.lifecycleevent.interfaces import IObjectRemovedEvent
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 
 
 def _reindex_site_root(obj, root, language_codes):
diff --git a/src/plone/app/multilingual/testing.py b/src/plone/app/multilingual/testing.py
index f4acb84c..e6e26166 100644
--- a/src/plone/app/multilingual/testing.py
+++ b/src/plone/app/multilingual/testing.py
@@ -1,5 +1,4 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from email.header import Header
 from plone.app.contenttypes.testing import PLONE_APP_CONTENTTYPES_FIXTURE
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
@@ -8,13 +7,13 @@
 from plone.app.robotframework import Content
 from plone.app.robotframework import RemoteLibraryLayer
 from plone.app.robotframework.remote import RemoteLibrary
+from plone.app.testing import applyProfile
 from plone.app.testing import FunctionalTesting
 from plone.app.testing import IntegrationTesting
 from plone.app.testing import PLONE_FIXTURE
 from plone.app.testing import PloneSandboxLayer
-from plone.app.testing import TEST_USER_ID
-from plone.app.testing import applyProfile
 from plone.app.testing import setRoles
+from plone.app.testing import TEST_USER_ID
 from plone.dexterity.fti import DexterityFTI
 from plone.dexterity.utils import iterSchemata
 from plone.dexterity.utils import iterSchemataForType
@@ -22,13 +21,17 @@
 from plone.rfc822 import initializeObjectFromSchemata
 from plone.testing import z2
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
 from zope.configuration import xmlconfig
 from zope.event import notify
 from zope.interface import alsoProvides
 from zope.interface import noLongerProvides
 from zope.lifecycleevent import ObjectModifiedEvent
+
 import plone.app.dexterity
 import plone.app.multilingual
+
+
 try:
     from plone.app.robotframework.utils import disableCSRFProtection
 except ImportError:
diff --git a/src/plone/app/multilingual/tests/test_alternates.py b/src/plone/app/multilingual/tests/test_alternates.py
index 7681e7f3..9684fe01 100644
--- a/src/plone/app/multilingual/tests/test_alternates.py
+++ b/src/plone/app/multilingual/tests/test_alternates.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.viewlets import AlternateLanguagesViewlet
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestAlternateLanguagesViewlet(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_api.py b/src/plone/app/multilingual/tests/test_api.py
index afdb441b..755afd97 100644
--- a/src/plone/app/multilingual/tests/test_api.py
+++ b/src/plone/app/multilingual/tests/test_api.py
@@ -1,20 +1,21 @@
 # -*- coding: utf-8 -*-
 from OFS.event import ObjectWillBeRemovedEvent
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual import api
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ATTRIBUTE_NAME
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationIdChooser
 from plone.app.multilingual.interfaces import ITranslationLocator
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import logout
 from plone.dexterity.utils import createContentInContainer
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.event import notify
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestAPI(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_catalog.py b/src/plone/app/multilingual/tests/test_catalog.py
index 7eb11af3..e8d911e1 100644
--- a/src/plone/app/multilingual/tests/test_catalog.py
+++ b/src/plone/app/multilingual/tests/test_catalog.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from Products.CMFCore.utils import getToolByName
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestIndependentLanguageFolder(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_directives.py b/src/plone/app/multilingual/tests/test_directives.py
index 492194c8..07aee0fb 100644
--- a/src/plone/app/multilingual/tests/test_directives.py
+++ b/src/plone/app/multilingual/tests/test_directives.py
@@ -6,6 +6,7 @@
 from plone.supermodel.utils import mergedTaggedValueList
 from zope import schema
 from zope.interface import Interface
+
 import unittest
 
 
diff --git a/src/plone/app/multilingual/tests/test_form.py b/src/plone/app/multilingual/tests/test_form.py
index 61a43115..745f042d 100644
--- a/src/plone/app/multilingual/tests/test_form.py
+++ b/src/plone/app/multilingual/tests/test_form.py
@@ -1,14 +1,15 @@
 # -*- coding: utf-8 -*-
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import SITE_OWNER_NAME
 from plone.app.testing import SITE_OWNER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
 from plone.testing._z2_testbrowser import Browser
+from zope.interface import alsoProvides
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from plone.app.multilingual.interfaces import ITranslationManager
-from zope.interface import alsoProvides
 
 
 class TestForm(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_helper_views.py b/src/plone/app/multilingual/tests/test_helper_views.py
index 087f3e88..cad7464b 100644
--- a/src/plone/app/multilingual/tests/test_helper_views.py
+++ b/src/plone/app/multilingual/tests/test_helper_views.py
@@ -1,21 +1,22 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.utils import multilingualMoveObject
-from Products.CMFPlone.interfaces import ILanguage
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import TEST_USER_NAME
 from plone.app.testing import TEST_USER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
-from plone.testing.z2 import Browser
-import transaction
-import unittest
 from plone.registry.interfaces import IRegistry
-from zope.component import getUtility
+from plone.testing.z2 import Browser
+from Products.CMFPlone.interfaces import ILanguage
 from Products.CMFPlone.interfaces import ILanguageSchema
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from zope.component import getUtility
 from zope.interface import alsoProvides
 
+import transaction
+import unittest
+
 
 class PAMFuncTestHelperViews(unittest.TestCase):
 
diff --git a/src/plone/app/multilingual/tests/test_lif.py b/src/plone/app/multilingual/tests/test_lif.py
index c449d8c4..eb98925f 100644
--- a/src/plone/app/multilingual/tests/test_lif.py
+++ b/src/plone/app/multilingual/tests/test_lif.py
@@ -1,5 +1,4 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual import api
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
@@ -8,6 +7,7 @@
 from plone.dexterity.fti import DexterityFTI
 from plone.dexterity.utils import createContentInContainer
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
 from z3c.form.interfaces import IDataManager
 from z3c.form.interfaces import IValidator
 from z3c.relationfield import RelationValue
@@ -19,6 +19,7 @@
 from zope.pagetemplate.interfaces import IPageTemplate
 from zope.publisher.interfaces.browser import IDefaultBrowserLayer
 from zope.schema._bootstrapinterfaces import RequiredMissing
+
 import unittest
 
 
diff --git a/src/plone/app/multilingual/tests/test_lrf.py b/src/plone/app/multilingual/tests/test_lrf.py
index db56e9bb..4185132d 100644
--- a/src/plone/app/multilingual/tests/test_lrf.py
+++ b/src/plone/app/multilingual/tests/test_lrf.py
@@ -2,15 +2,16 @@
 from OFS.event import ObjectWillBeRemovedEvent
 from plone.app.multilingual.browser.utils import is_language_independent
 from plone.app.multilingual.browser.utils import multilingualMoveObject
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
 from plone.uuid.interfaces import IUUID
 from zope.event import notify
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestLanguageRootFolder(unittest.TestCase):
 
diff --git a/src/plone/app/multilingual/tests/test_menu.py b/src/plone/app/multilingual/tests/test_menu.py
index e5afab41..983163e4 100644
--- a/src/plone/app/multilingual/tests/test_menu.py
+++ b/src/plone/app/multilingual/tests/test_menu.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import SITE_OWNER_NAME
 from plone.app.testing import SITE_OWNER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
 from plone.testing._z2_testbrowser import Browser
+from zope.interface import alsoProvides
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from zope.interface import alsoProvides
 
 
 class TestMenu(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_robot.py b/src/plone/app/multilingual/tests/test_robot.py
index 6eaa86e6..decbf2ca 100644
--- a/src/plone/app/multilingual/tests/test_robot.py
+++ b/src/plone/app/multilingual/tests/test_robot.py
@@ -1,6 +1,7 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual.testing import PAM_ROBOT_TESTING
 from plone.testing import layered
+
 import robotsuite
 import unittest
 
diff --git a/src/plone/app/multilingual/tests/test_selector.py b/src/plone/app/multilingual/tests/test_selector.py
index 02004d8f..27630443 100644
--- a/src/plone/app/multilingual/tests/test_selector.py
+++ b/src/plone/app/multilingual/tests/test_selector.py
@@ -1,26 +1,27 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual import api
-from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.browser.helper_views import selector_view
-from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
-from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.browser.selector import addQuery
 from plone.app.multilingual.browser.selector import getPostPath
+from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
+from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
+from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.multilingual.testing import PAM_INTEGRATION_TESTING
 from plone.dexterity.utils import createContentInContainer
 from plone.registry.interfaces import IRegistry
 from plone.testing.z2 import Browser
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.event import notify
+from zope.interface import alsoProvides
 from zope.lifecycleevent import ObjectModifiedEvent
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from zope.interface import alsoProvides
 
 
 class EvilObject(object):
diff --git a/src/plone/app/multilingual/tests/test_setup.py b/src/plone/app/multilingual/tests/test_setup.py
index 8e1dd35c..c539fffd 100644
--- a/src/plone/app/multilingual/tests/test_setup.py
+++ b/src/plone/app/multilingual/tests/test_setup.py
@@ -1,15 +1,12 @@
 # -*- coding: utf-8 -*-
-import unittest
-from zope.interface import alsoProvides
-
-from Products.CMFCore.utils import getToolByName
-
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from plone.app.multilingual.browser.vocabularies import\
-    AllContentLanguageVocabulary
-from plone.app.multilingual.testing import (PAM_INTEGRATION_TESTING,
-                                            PAM_INTEGRATION_PRESET_TESTING)
+from plone.app.multilingual.testing import PAM_INTEGRATION_PRESET_TESTING
+from plone.app.multilingual.testing import PAM_INTEGRATION_TESTING
+from Products.CMFCore.utils import getToolByName
+from zope.interface import alsoProvides
+
+import unittest
 
 
 class TestSetupMultilingualSite(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_sitemap.py b/src/plone/app/multilingual/tests/test_sitemap.py
index 86dd81e9..dec07048 100644
--- a/src/plone/app/multilingual/tests/test_sitemap.py
+++ b/src/plone/app/multilingual/tests/test_sitemap.py
@@ -5,6 +5,7 @@
 from plone.dexterity.utils import createContentInContainer
 from plone.registry.interfaces import IRegistry
 from Products.CMFPlone.interfaces import ISiteSchema
+from six import StringIO
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.interface import alsoProvides
@@ -12,9 +13,6 @@
 import unittest
 
 
-from six import StringIO
-
-
 # This class largely inspired by plone/app/layout/sitemap/tests/test_sitemap.py
 class TestSitemap(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_subscribers.py b/src/plone/app/multilingual/tests/test_subscribers.py
index 70c41eee..01aa52fa 100644
--- a/src/plone/app/multilingual/tests/test_subscribers.py
+++ b/src/plone/app/multilingual/tests/test_subscribers.py
@@ -1,13 +1,13 @@
 # -*- coding: utf-8 -*-
-import unittest
-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestSubscribers(unittest.TestCase):
     """There are some events that are fired when an object
diff --git a/src/plone/app/multilingual/tests/test_vocabularies.py b/src/plone/app/multilingual/tests/test_vocabularies.py
index edae0b5c..54f38024 100644
--- a/src/plone/app/multilingual/tests/test_vocabularies.py
+++ b/src/plone/app/multilingual/tests/test_vocabularies.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
-import unittest
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.vocabularies import untranslated_languages
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestVocabularies(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/upgrades.py b/src/plone/app/multilingual/upgrades.py
index fe6488fb..13956ddc 100644
--- a/src/plone/app/multilingual/upgrades.py
+++ b/src/plone/app/multilingual/upgrades.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import _createObjectByType
 from plone.app.multilingual import logger
+from Products.CMFCore.utils import getToolByName
 from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import _createObjectByType
 from time import time
 
 import transaction


Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-25T16:16:06+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/b11a9352d905cfa66fd48edff5ae604c49e6a5cc

isort removed an import

Files changed:
M src/plone/app/multilingual/tests/test_setup.py

diff --git a/src/plone/app/multilingual/tests/test_setup.py b/src/plone/app/multilingual/tests/test_setup.py
index c539fffd..a288059a 100644
--- a/src/plone/app/multilingual/tests/test_setup.py
+++ b/src/plone/app/multilingual/tests/test_setup.py
@@ -1,5 +1,6 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
+from plone.app.multilingual.browser.vocabularies import AllContentLanguageVocabulary  # noqa: E501
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_INTEGRATION_PRESET_TESTING
 from plone.app.multilingual.testing import PAM_INTEGRATION_TESTING


Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2018-01-25T23:10:57+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.multilingual/commit/1ffe2e8dd985a73d915847cee3be0fd3997326cf

Merge pull request #296 from plone/py3

Imports are Python3 compatible

Files changed:
M CHANGES.rst
M bootstrap.py
M docs/conf.py
M src/plone/app/multilingual/__init__.py
M src/plone/app/multilingual/browser/add.py
M src/plone/app/multilingual/browser/controlpanel.py
M src/plone/app/multilingual/browser/edit.py
M src/plone/app/multilingual/browser/helper_views.py
M src/plone/app/multilingual/browser/interfaces.py
M src/plone/app/multilingual/browser/menu.py
M src/plone/app/multilingual/browser/migrator.py
M src/plone/app/multilingual/browser/modify.py
M src/plone/app/multilingual/browser/selector.py
M src/plone/app/multilingual/browser/setup.py
M src/plone/app/multilingual/browser/translate.py
M src/plone/app/multilingual/browser/utils.py
M src/plone/app/multilingual/browser/viewlets.py
M src/plone/app/multilingual/browser/vocabularies.py
M src/plone/app/multilingual/dx/cloner.py
M src/plone/app/multilingual/dx/directives.py
M src/plone/app/multilingual/dx/form.py
M src/plone/app/multilingual/dx/interfaces.py
M src/plone/app/multilingual/dx/language.py
M src/plone/app/multilingual/dx/schemaeditor.py
M src/plone/app/multilingual/dx/subscriber.py
M src/plone/app/multilingual/factory.py
M src/plone/app/multilingual/indexer.py
M src/plone/app/multilingual/interfaces.py
M src/plone/app/multilingual/manager.py
M src/plone/app/multilingual/setuphandlers.py
M src/plone/app/multilingual/subscriber.py
M src/plone/app/multilingual/testing.py
M src/plone/app/multilingual/tests/test_alternates.py
M src/plone/app/multilingual/tests/test_api.py
M src/plone/app/multilingual/tests/test_catalog.py
M src/plone/app/multilingual/tests/test_directives.py
M src/plone/app/multilingual/tests/test_form.py
M src/plone/app/multilingual/tests/test_helper_views.py
M src/plone/app/multilingual/tests/test_lif.py
M src/plone/app/multilingual/tests/test_lrf.py
M src/plone/app/multilingual/tests/test_menu.py
M src/plone/app/multilingual/tests/test_robot.py
M src/plone/app/multilingual/tests/test_selector.py
M src/plone/app/multilingual/tests/test_setup.py
M src/plone/app/multilingual/tests/test_sitemap.py
M src/plone/app/multilingual/tests/test_subscribers.py
M src/plone/app/multilingual/tests/test_vocabularies.py
M src/plone/app/multilingual/upgrades.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5411b02c..1f42acaa 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -41,6 +41,8 @@ New features:
   [jensens]
 
 Bug fixes:
+- Imports are Python3 compatible
+  [ale-rt, jensens]
 
 - Fix serialization of query variables for selector links in Zope 4.
   [davisagli]
diff --git a/bootstrap.py b/bootstrap.py
index a6295667..d1c8acb3 100644
--- a/bootstrap.py
+++ b/bootstrap.py
@@ -18,12 +18,17 @@
 use the -c option to specify an alternate configuration file.
 """
 
+from optparse import OptionParser
+
 import os
+import pkg_resources
+import setuptools
 import shutil
+import subprocess
 import sys
 import tempfile
+import zc.buildout.buildout
 
-from optparse import OptionParser
 
 tmpeggs = tempfile.mkdtemp()
 
@@ -96,8 +101,6 @@
     setup_args['version'] = options.setuptools_version
 
 ez['use_setuptools'](**setup_args)
-import setuptools
-import pkg_resources
 
 # This does not (always?) update the default working set.  We will
 # do it.
@@ -166,7 +169,6 @@ def _final_version(parsed_version):
     requirement = '=='.join((requirement, version))
 cmd.append(requirement)
 
-import subprocess
 if subprocess.call(cmd, env=dict(os.environ, PYTHONPATH=setuptools_path)) != 0:
     raise Exception(
         "Failed to execute command:\n%s" % repr(cmd)[1:-1])
@@ -176,7 +178,6 @@ def _final_version(parsed_version):
 
 ws.add_entry(tmpeggs)
 ws.require(requirement)
-import zc.buildout.buildout
 
 if not [a for a in args if '=' not in a]:
     args.append('bootstrap')
diff --git a/docs/conf.py b/docs/conf.py
index 25bfc199..f2e2ac43 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -11,7 +11,9 @@
 # All configuration values have a default; values that are commented out
 # serve to show the default.
 
-import sys, os
+import os
+import sys
+
 
 # If extensions (or modules to document with autodoc) are in another directory,
 # add these directories to sys.path here. If the directory is relative to the
diff --git a/src/plone/app/multilingual/__init__.py b/src/plone/app/multilingual/__init__.py
index 11b9beef..6826e004 100644
--- a/src/plone/app/multilingual/__init__.py
+++ b/src/plone/app/multilingual/__init__.py
@@ -1,8 +1,10 @@
 # -*- coding: utf-8 -*-
 from zope.i18nmessageid import MessageFactory
+
 import logging
 import pkg_resources
 
+
 try:
     pkg_resources.get_distribution('Products.LinguaPlone')
 except pkg_resources.DistributionNotFound:
diff --git a/src/plone/app/multilingual/browser/add.py b/src/plone/app/multilingual/browser/add.py
index ad42ea07..e3ff90fe 100644
--- a/src/plone/app/multilingual/browser/add.py
+++ b/src/plone/app/multilingual/browser/add.py
@@ -1,10 +1,6 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.interfaces import IFolderish
-from Products.CMFCore.utils import getToolByName
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
 from plone.app.multilingual.dx.interfaces import IMultilingualAddForm
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.events import ObjectTranslatedEvent
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITG
@@ -14,12 +10,16 @@
 from plone.dexterity.interfaces import IDexterityContent
 from plone.registry.interfaces import IRegistry
 from plone.z3cform.fieldsets.group import Group
+from Products.CMFCore.interfaces import IFolderish
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import adapter
 from zope.component import getUtility
 from zope.component import queryMultiAdapter
 from zope.event import notify
-from zope.interface import Interface
 from zope.interface import implementer
+from zope.interface import Interface
 from zope.traversing.interfaces import ITraversable
 from zope.traversing.interfaces import TraversalError
 
diff --git a/src/plone/app/multilingual/browser/controlpanel.py b/src/plone/app/multilingual/browser/controlpanel.py
index ed607f86..c2acb172 100644
--- a/src/plone/app/multilingual/browser/controlpanel.py
+++ b/src/plone/app/multilingual/browser/controlpanel.py
@@ -1,28 +1,26 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from Products.statusmessages.interfaces import IStatusMessage
-from Products.CMFPlone.controlpanel.browser.language import \
-    LanguageControlPanelForm
-from plone.app.registry.browser import controlpanel
-
 from plone.app.multilingual import isLPinstalled
 from plone.app.multilingual.browser.migrator import portal_types_blacklist
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.registry.browser import controlpanel
 from plone.app.uuid.utils import uuidToObject
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.controlpanel.browser.language import LanguageControlPanelForm
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
+from Products.statusmessages.interfaces import IStatusMessage
+from z3c.form import button
 from zc.relation.interfaces import ICatalog as IRelationCatalog
 from zope.component import getUtility
 from zope.component.interfaces import ComponentLookupError
 from zope.i18nmessageid import MessageFactory
 from zope.schema.interfaces import IVocabularyFactory
-from z3c.form import button
-
 
 import json
 
+
 _ = MessageFactory('plone.app.multilingual')
 
 
diff --git a/src/plone/app/multilingual/browser/edit.py b/src/plone/app/multilingual/browser/edit.py
index a2390643..1da427bf 100644
--- a/src/plone/app/multilingual/browser/edit.py
+++ b/src/plone/app/multilingual/browser/edit.py
@@ -1,7 +1,5 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_inner
-from Products.CMFCore.utils import getToolByName
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
@@ -9,6 +7,8 @@
 from plone.dexterity.browser.edit import DefaultEditForm
 from plone.registry.interfaces import IRegistry
 from plone.z3cform import layout
+from Products.CMFCore.utils import getToolByName
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import getUtility
 
 
diff --git a/src/plone/app/multilingual/browser/helper_views.py b/src/plone/app/multilingual/browser/helper_views.py
index 34cd0a2f..f36a925f 100644
--- a/src/plone/app/multilingual/browser/helper_views.py
+++ b/src/plone/app/multilingual/browser/helper_views.py
@@ -1,23 +1,23 @@
 # -*- coding: utf-8 -*-
 from AccessControl.SecurityManagement import getSecurityManager
 from Acquisition import aq_chain
-from Products.CMFCore.interfaces import ISiteRoot
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
-from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from plone.i18n.interfaces import INegotiateLanguage
 from borg.localrole.interfaces import IFactoryTempFolder
 from plone.app.layout.navigation.interfaces import INavigationRoot
-from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
-from plone.app.multilingual.interfaces import ITG
-from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.browser.selector import addQuery
+from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.interfaces import ILanguageRootFolder
+from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.manager import TranslationManager
+from plone.i18n.interfaces import INegotiateLanguage
 from plone.i18n.locales.interfaces import IContentLanguageAvailability
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.interfaces import ISiteRoot
+from Products.CMFCore.utils import getToolByName
+from Products.Five import BrowserView
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.component.hooks import getSite
@@ -26,6 +26,7 @@
 from zope.publisher.interfaces import IPublishTraverse
 from zope.publisher.interfaces import NotFound
 
+
 try:
     from Products.ATContentTypes.interfaces.factory import IFactoryTool
 except ImportError:
@@ -167,7 +168,7 @@ def getClosestDestination(self):
         if prefered in languages:
             context = languages[prefered]
         else:
-            context = languages[languages.keys()[0]]
+            context = languages[list(languages.keys())[0]]
 
         checkPermission = getSecurityManager().checkPermission
         chain = self.getParentChain(context)
diff --git a/src/plone/app/multilingual/browser/interfaces.py b/src/plone/app/multilingual/browser/interfaces.py
index a2b4003c..28b35c7a 100644
--- a/src/plone/app/multilingual/browser/interfaces.py
+++ b/src/plone/app/multilingual/browser/interfaces.py
@@ -12,9 +12,9 @@
 from zope import schema
 from zope.browsermenu.interfaces import IBrowserMenu
 from zope.browsermenu.interfaces import IBrowserSubMenuItem
+from zope.component.hooks import getSite
 from zope.interface import provider
 from zope.schema.interfaces import IContextAwareDefaultFactory
-from zope.component.hooks import getSite
 
 import pkg_resources
 
diff --git a/src/plone/app/multilingual/browser/menu.py b/src/plone/app/multilingual/browser/menu.py
index 4a97268f..958cc95d 100644
--- a/src/plone/app/multilingual/browser/menu.py
+++ b/src/plone/app/multilingual/browser/menu.py
@@ -1,9 +1,6 @@
 # -*- coding: utf-8 -*-
 from AccessControl import getSecurityManager
 from Acquisition import aq_parent
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import safe_unicode
-from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual import _
 from plone.app.multilingual.browser.interfaces import ITranslateMenu
 from plone.app.multilingual.browser.interfaces import ITranslateSubMenuItem
@@ -11,8 +8,7 @@
 from plone.app.multilingual.browser.vocabularies import translated_languages
 from plone.app.multilingual.browser.vocabularies import translated_urls
 from plone.app.multilingual.browser.vocabularies import untranslated_languages
-from Products.CMFPlone.defaultpage import is_default_page
-from Products.CMFPlone.interfaces import ILanguage
+from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITG
@@ -22,6 +18,10 @@
 from plone.app.multilingual.permissions import ManageTranslations
 from plone.memoize import view
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.defaultpage import is_default_page
+from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import safe_unicode
 from zope.browsermenu.menu import BrowserMenu
 from zope.browsermenu.menu import BrowserSubMenuItem
 from zope.component import getUtility
diff --git a/src/plone/app/multilingual/browser/migrator.py b/src/plone/app/multilingual/browser/migrator.py
index 16fb9eb1..c278090c 100644
--- a/src/plone/app/multilingual/browser/migrator.py
+++ b/src/plone/app/multilingual/browser/migrator.py
@@ -2,21 +2,22 @@
 from Acquisition import aq_base
 from Acquisition import aq_inner
 from Acquisition import aq_parent
+from plone.app.multilingual import _
+from plone.app.multilingual.content.lrf import LanguageRootFolder
+from plone.app.multilingual.interfaces import ITranslationManager
+from plone.locking.interfaces import ILockable
 from Products.CMFCore.exceptions import ResourceLockedError
 from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from Products.CMFPlone.interfaces import IPloneSiteRoot
 from Products.Five import BrowserView
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from plone.app.multilingual import _
-from plone.app.multilingual.content.lrf import LanguageRootFolder
-from Products.CMFPlone.interfaces import ILanguage
-from plone.app.multilingual.interfaces import ITranslationManager
-from plone.locking.interfaces import ILockable
 from zc.relation.interfaces import ICatalog
 from zope.component import getUtility
 from zope.component.hooks import getSite
 from zope.component.interfaces import ComponentLookupError
 from zope.interface import Interface
+
 import logging
 
 
@@ -203,7 +204,7 @@ def step1andstep2(self):
                                    '/'.join(content.getPhysicalPath()),
                                    '/'.join(target_folder.getPhysicalPath()))
                         log = logger.info
-                    except Exception, err:
+                    except Exception as err:
                         info_str = "ERROR. Step 2: not possible to move " \
                             "object %s to folder %s. Error: %s" % (
                                 '/'.join(content.getPhysicalPath()),
@@ -256,7 +257,7 @@ def step3(self):
                         info_str = "Moved object %s to language root folder "\
                             "%s" % (old_path, lang)
                         log = logger.info
-                    except Exception, err:
+                    except Exception as err:
                         info_str = "ERROR. Step 3: not possible to move "\
                             "object %s to root language folder %s. Error: %s"\
                             % (old_path, lang, err)
diff --git a/src/plone/app/multilingual/browser/modify.py b/src/plone/app/multilingual/browser/modify.py
index 88fd2e79..e76ffd1a 100644
--- a/src/plone/app/multilingual/browser/modify.py
+++ b/src/plone/app/multilingual/browser/modify.py
@@ -13,8 +13,10 @@
 from z3c.form import button
 from z3c.form.form import Form
 from zope.component import getUtility
+
 import logging
 
+
 logger = logging.getLogger(__name__)
 
 
@@ -73,7 +75,7 @@ def __call__(self):
                 manager = ITranslationManager(context)
                 try:
                     manager.remove_translation(language)
-                except Exception, e:
+                except Exception as e:
                     messages = IStatusMessage(self.request)
                     messages.addStatusMessage(e, type='error')
 
diff --git a/src/plone/app/multilingual/browser/selector.py b/src/plone/app/multilingual/browser/selector.py
index 64550bf2..2f0ac192 100644
--- a/src/plone/app/multilingual/browser/selector.py
+++ b/src/plone/app/multilingual/browser/selector.py
@@ -1,10 +1,12 @@
 # -*- coding: utf-8 -*-
-from ZTUtils import make_query
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import NOTG
 from zope.component import queryAdapter
 from zope.component.hooks import getSite
+from ZTUtils import make_query
+
+import six
 
 
 def addQuery(request, url, exclude=tuple(), **extras):
@@ -14,12 +16,12 @@ def addQuery(request, url, exclude=tuple(), **extras):
     formvariables = {}
     for k, v in request.form.items():
         if k not in exclude:
-            if isinstance(v, unicode):
+            if isinstance(v, six.text_type):
                 formvariables[k] = v.encode('utf-8')
             else:
                 formvariables[k] = v
     for k, v in extras.items():
-        if isinstance(v, unicode):
+        if isinstance(v, six.text_type):
             formvariables[k] = v.encode('utf-8')
         else:
             formvariables[k] = v
diff --git a/src/plone/app/multilingual/browser/setup.py b/src/plone/app/multilingual/browser/setup.py
index 99e74b43..0341921e 100644
--- a/src/plone/app/multilingual/browser/setup.py
+++ b/src/plone/app/multilingual/browser/setup.py
@@ -1,13 +1,9 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import _createObjectByType
-from Products.Five import BrowserView
 from logging import getLogger
 from plone.app.dexterity.behaviors.exclfromnav import IExcludeFromNavigation
 from plone.app.layout.navigation.interfaces import INavigationRoot
-from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual import _
+from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
@@ -15,12 +11,17 @@
 from plone.dexterity.interfaces import IDexterityFTI
 from plone.i18n.locales.languages import _combinedlanguagelist
 from plone.i18n.locales.languages import _languagelist
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import _createObjectByType
+from Products.Five import BrowserView
 from zope.component.hooks import getSite
 from zope.event import notify
 from zope.i18n import translate
 from zope.interface import alsoProvides
 from zope.lifecycleevent import modified
 
+
 logger = getLogger('plone.app.multilingual')
 
 
@@ -95,7 +96,7 @@ def linkTranslations(self):
 
         try:
             canonical = ITranslationManager(self.folders[self.defaultLanguage])
-        except TypeError, e:
+        except TypeError as e:
             raise TypeError(str(e) + u' Are your folders ITranslatable?')
 
         for language in self.languages:
@@ -234,7 +235,7 @@ def resetDefaultPage(self):
 
         try:
             target.manage_pasteObjects(objects)
-        except ValueError, exc:
+        except ValueError as exc:
             # This portal_type may not be allowed.  This should not be
             # fatal, so we only log a warning.
             logger.warn((u"Could not move default page '{0:s}' j"
diff --git a/src/plone/app/multilingual/browser/translate.py b/src/plone/app/multilingual/browser/translate.py
index 0114d993..b227aa3c 100644
--- a/src/plone/app/multilingual/browser/translate.py
+++ b/src/plone/app/multilingual/browser/translate.py
@@ -1,15 +1,16 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_inner
-from Products.Five import BrowserView
 from plone.app.multilingual import _
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.registry.interfaces import IRegistry
 from plone.uuid.interfaces import IUUID
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
+from six.moves import urllib
 from zope.component import getUtility
+
 import json
-import urllib
 
 
 def google_translate(question, key, lang_target, lang_source):
@@ -27,9 +28,9 @@ def google_translate(question, key, lang_target, lang_source):
                 'target': lang_target,
                 'source': lang_source,
                 'q': temp_question}
-        params = urllib.urlencode(data)
+        params = urllib.parse.urlencode(data)
 
-        retorn = urllib.urlopen(url + '?' + params)
+        retorn = urllib.request.urlopen(url + '?' + params)
         translated += json.loads(
             retorn.read())['data']['translations'][0]['translatedText']
 
@@ -37,9 +38,9 @@ def google_translate(question, key, lang_target, lang_source):
             'target': lang_target,
             'source': lang_source,
             'q': temp_question}
-    params = urllib.urlencode(data)
+    params = urllib.parse.urlencode(data)
 
-    retorn = urllib.urlopen(url + '?' + params)
+    retorn = urllib.request.urlopen(url + '?' + params)
     translated += json.loads(
         retorn.read())['data']['translations'][0]['translatedText']
     return json.dumps({'data': translated})
diff --git a/src/plone/app/multilingual/browser/utils.py b/src/plone/app/multilingual/browser/utils.py
index a2d75238..347c69dc 100644
--- a/src/plone/app/multilingual/browser/utils.py
+++ b/src/plone/app/multilingual/browser/utils.py
@@ -3,11 +3,8 @@
 from Acquisition import aq_chain
 from Acquisition import aq_inner
 from Acquisition import aq_parent
-from Products.CMFCore.utils import getToolByName
-from Products.Five import BrowserView
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFolder
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import ITranslationLocator
@@ -15,6 +12,9 @@
 from plone.app.multilingual.manager import TranslationManager
 from plone.i18n.locales.interfaces import IContentLanguageAvailability
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from Products.Five import BrowserView
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.component.hooks import getSite
diff --git a/src/plone/app/multilingual/browser/viewlets.py b/src/plone/app/multilingual/browser/viewlets.py
index 340032b6..b645992e 100644
--- a/src/plone/app/multilingual/browser/viewlets.py
+++ b/src/plone/app/multilingual/browser/viewlets.py
@@ -1,11 +1,11 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.layout.viewlets.common import ViewletBase
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.memoize import ram
-from urllib import quote_plus
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
+from six.moves.urllib.parse import quote_plus
 
 
 def _cache_until_catalog_change(fun, self):
diff --git a/src/plone/app/multilingual/browser/vocabularies.py b/src/plone/app/multilingual/browser/vocabularies.py
index f24a0170..2638fa16 100644
--- a/src/plone/app/multilingual/browser/vocabularies.py
+++ b/src/plone/app/multilingual/browser/vocabularies.py
@@ -1,10 +1,10 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.browser.utils import is_language_independent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.vocabularies.catalog import CatalogVocabularyFactory
 from plone.i18n.locales.interfaces import ILanguageAvailability
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component import getGlobalSiteManager
 from zope.interface import implementer
 from zope.interface import provider
diff --git a/src/plone/app/multilingual/dx/cloner.py b/src/plone/app/multilingual/dx/cloner.py
index 4c446c36..fec1ac19 100644
--- a/src/plone/app/multilingual/dx/cloner.py
+++ b/src/plone/app/multilingual/dx/cloner.py
@@ -14,6 +14,8 @@
 from zope.interface import implementer
 
 import pkg_resources
+
+
 try:
     # pkg_resources.get_distribution('zope.initd')
     from zope.intid.interfaces import IIntIds
diff --git a/src/plone/app/multilingual/dx/directives.py b/src/plone/app/multilingual/dx/directives.py
index 53d1a730..befeb3d7 100644
--- a/src/plone/app/multilingual/dx/directives.py
+++ b/src/plone/app/multilingual/dx/directives.py
@@ -3,8 +3,8 @@
 from plone.app.multilingual.dx.interfaces import MULTILINGUAL_KEY
 from plone.supermodel.directives import CheckerPlugin
 from plone.supermodel.directives import MetadataListDirective
-from zope.interface import Interface
 from zope.interface import alsoProvides
+from zope.interface import Interface
 from zope.interface.interfaces import IInterface
 
 
diff --git a/src/plone/app/multilingual/dx/form.py b/src/plone/app/multilingual/dx/form.py
index a66bd29d..db591e91 100644
--- a/src/plone/app/multilingual/dx/form.py
+++ b/src/plone/app/multilingual/dx/form.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_base
-from Products.CMFCore.utils import getToolByName
 from interfaces import ILanguageIndependentField
 from plone.app.multilingual.manager import TranslationManager
+from Products.CMFCore.utils import getToolByName
 from z3c.form.interfaces import DISPLAY_MODE
 from z3c.form.interfaces import IValue
 from z3c.form.interfaces import NO_VALUE
@@ -81,7 +81,7 @@ def get(self):
 
             if len(result) >= 1:
 
-                orig_lang = result.keys()[0]
+                orig_lang = list(result.keys())[0]
                 obj = result[orig_lang]
                 name = self.field.__name__
                 # XXX
diff --git a/src/plone/app/multilingual/dx/interfaces.py b/src/plone/app/multilingual/dx/interfaces.py
index c814b746..12b4dc27 100644
--- a/src/plone/app/multilingual/dx/interfaces.py
+++ b/src/plone/app/multilingual/dx/interfaces.py
@@ -2,6 +2,7 @@
 from plone.app.multilingual.interfaces import ITranslatable
 from zope.interface import Interface
 
+
 MULTILINGUAL_KEY = u'plone.app.multilingual.languageindependent'
 
 
diff --git a/src/plone/app/multilingual/dx/language.py b/src/plone/app/multilingual/dx/language.py
index 9222032e..85f92ad0 100644
--- a/src/plone/app/multilingual/dx/language.py
+++ b/src/plone/app/multilingual/dx/language.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 # from plone.app.dexterity.behaviors.metadata import ICategorization
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
+from Products.CMFPlone.interfaces import ILanguage
 from zope.interface import implementer
 
 
diff --git a/src/plone/app/multilingual/dx/schemaeditor.py b/src/plone/app/multilingual/dx/schemaeditor.py
index 4bcd09c0..823eee4c 100644
--- a/src/plone/app/multilingual/dx/schemaeditor.py
+++ b/src/plone/app/multilingual/dx/schemaeditor.py
@@ -6,13 +6,14 @@
 from zope.component import adapter
 from zope.component import provideAdapter
 from zope.i18nmessageid import MessageFactory
-from zope.interface import Interface
 from zope.interface import alsoProvides
 from zope.interface import implementer
+from zope.interface import Interface
 from zope.interface import noLongerProvides
 from zope.schema import interfaces
 from zope.schema.interfaces import IField
 
+
 PMF = MessageFactory('plone.app.multilingual')
 
 
diff --git a/src/plone/app/multilingual/dx/subscriber.py b/src/plone/app/multilingual/dx/subscriber.py
index 7856832f..c0a1f1a2 100644
--- a/src/plone/app/multilingual/dx/subscriber.py
+++ b/src/plone/app/multilingual/dx/subscriber.py
@@ -3,15 +3,15 @@
 from AccessControl.SecurityManagement import newSecurityManager
 from AccessControl.SecurityManagement import setSecurityManager
 from AccessControl.users import UnrestrictedUser
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.dx.interfaces import IDexterityTranslatable
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.dexterity.interfaces import IDexterityFTI
 from plone.registry.interfaces import IRegistry
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component import getUtility
 from zope.component import queryAdapter
 from zope.event import notify
diff --git a/src/plone/app/multilingual/factory.py b/src/plone/app/multilingual/factory.py
index cb14eb91..5714668a 100644
--- a/src/plone/app/multilingual/factory.py
+++ b/src/plone/app/multilingual/factory.py
@@ -1,6 +1,5 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_parent
-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import ILanguageRootFolder
 from plone.app.multilingual.interfaces import ITranslationCloner
@@ -8,6 +7,7 @@
 from plone.app.multilingual.interfaces import ITranslationIdChooser
 from plone.app.multilingual.interfaces import ITranslationLocator
 from plone.app.multilingual.interfaces import ITranslationManager
+from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot
 from zope.interface import implementer
 
 
diff --git a/src/plone/app/multilingual/indexer.py b/src/plone/app/multilingual/indexer.py
index e4e21107..1e7ca8c3 100644
--- a/src/plone/app/multilingual/indexer.py
+++ b/src/plone/app/multilingual/indexer.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.indexer import indexer
+from Products.CMFPlone.interfaces import ILanguage
 
 
 @indexer(ITranslatable)
diff --git a/src/plone/app/multilingual/interfaces.py b/src/plone/app/multilingual/interfaces.py
index 925c0b89..a94c58ef 100644
--- a/src/plone/app/multilingual/interfaces.py
+++ b/src/plone/app/multilingual/interfaces.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import _
+from plone.supermodel import model
+from Products.CMFPlone.interfaces import ILanguageSchema
 from zope import schema
 from zope.interface import Attribute
 from zope.interface import Interface
 from zope.schema.vocabulary import SimpleTerm
 from zope.schema.vocabulary import SimpleVocabulary
-from Products.CMFPlone.interfaces import ILanguageSchema
-from plone.supermodel import model
+
 
 # CONSTANTS
 SHARED_NAME = 'shared'
diff --git a/src/plone/app/multilingual/manager.py b/src/plone/app/multilingual/manager.py
index 76022aac..96932f0f 100644
--- a/src/plone/app/multilingual/manager.py
+++ b/src/plone/app/multilingual/manager.py
@@ -1,8 +1,6 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.events import ObjectTranslatedEvent
 from plone.app.multilingual.events import ObjectWillBeTranslatedEvent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IMutableTG
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.interfaces import ITranslationFactory
@@ -13,6 +11,8 @@
 from plone.app.uuid.utils import uuidToObject
 from plone.uuid.handlers import addAttributeUUID
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.event import notify
 from zope.interface import implementer
 from zope.site.hooks import getSite
diff --git a/src/plone/app/multilingual/setuphandlers.py b/src/plone/app/multilingual/setuphandlers.py
index c5da03fd..8f56cf18 100644
--- a/src/plone/app/multilingual/setuphandlers.py
+++ b/src/plone/app/multilingual/setuphandlers.py
@@ -1,11 +1,12 @@
 # -*- coding: utf-8 -*-
-from Products.CMFPlone.interfaces import INonInstallable
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
+from Products.CMFPlone.interfaces import INonInstallable
 from zope.component.hooks import getSite
 from zope.interface import implementer
 
 import pkg_resources
 
+
 try:
     pkg_resources.get_distribution('plone.app.contenttypes')
 except pkg_resources.DistributionNotFound:
diff --git a/src/plone/app/multilingual/subscriber.py b/src/plone/app/multilingual/subscriber.py
index d0fe55da..582a4890 100644
--- a/src/plone/app/multilingual/subscriber.py
+++ b/src/plone/app/multilingual/subscriber.py
@@ -1,22 +1,22 @@
 # -*- coding: utf-8 -*-
 from Acquisition import aq_parent
-from Products.CMFCore.interfaces import IFolderish
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual.browser.utils import is_language_independent
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ILanguageIndependentFieldsManager
 from plone.app.multilingual.interfaces import ILanguageIndependentFolder
 from plone.app.multilingual.interfaces import IMutableTG
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslatable
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
 from plone.dexterity.interfaces import IDexterityContent
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.interfaces import IFolderish
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.component.hooks import getSite
 from zope.globalrequest import getRequest
 from zope.lifecycleevent import modified
 from zope.lifecycleevent.interfaces import IObjectRemovedEvent
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 
 
 def _reindex_site_root(obj, root, language_codes):
diff --git a/src/plone/app/multilingual/testing.py b/src/plone/app/multilingual/testing.py
index f4acb84c..e6e26166 100644
--- a/src/plone/app/multilingual/testing.py
+++ b/src/plone/app/multilingual/testing.py
@@ -1,5 +1,4 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from email.header import Header
 from plone.app.contenttypes.testing import PLONE_APP_CONTENTTYPES_FIXTURE
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
@@ -8,13 +7,13 @@
 from plone.app.robotframework import Content
 from plone.app.robotframework import RemoteLibraryLayer
 from plone.app.robotframework.remote import RemoteLibrary
+from plone.app.testing import applyProfile
 from plone.app.testing import FunctionalTesting
 from plone.app.testing import IntegrationTesting
 from plone.app.testing import PLONE_FIXTURE
 from plone.app.testing import PloneSandboxLayer
-from plone.app.testing import TEST_USER_ID
-from plone.app.testing import applyProfile
 from plone.app.testing import setRoles
+from plone.app.testing import TEST_USER_ID
 from plone.dexterity.fti import DexterityFTI
 from plone.dexterity.utils import iterSchemata
 from plone.dexterity.utils import iterSchemataForType
@@ -22,13 +21,17 @@
 from plone.rfc822 import initializeObjectFromSchemata
 from plone.testing import z2
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
 from zope.configuration import xmlconfig
 from zope.event import notify
 from zope.interface import alsoProvides
 from zope.interface import noLongerProvides
 from zope.lifecycleevent import ObjectModifiedEvent
+
 import plone.app.dexterity
 import plone.app.multilingual
+
+
 try:
     from plone.app.robotframework.utils import disableCSRFProtection
 except ImportError:
diff --git a/src/plone/app/multilingual/tests/test_alternates.py b/src/plone/app/multilingual/tests/test_alternates.py
index 7681e7f3..9684fe01 100644
--- a/src/plone/app/multilingual/tests/test_alternates.py
+++ b/src/plone/app/multilingual/tests/test_alternates.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.viewlets import AlternateLanguagesViewlet
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestAlternateLanguagesViewlet(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_api.py b/src/plone/app/multilingual/tests/test_api.py
index afdb441b..755afd97 100644
--- a/src/plone/app/multilingual/tests/test_api.py
+++ b/src/plone/app/multilingual/tests/test_api.py
@@ -1,20 +1,21 @@
 # -*- coding: utf-8 -*-
 from OFS.event import ObjectWillBeRemovedEvent
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual import api
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import ATTRIBUTE_NAME
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationIdChooser
 from plone.app.multilingual.interfaces import ITranslationLocator
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import logout
 from plone.dexterity.utils import createContentInContainer
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.event import notify
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestAPI(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_catalog.py b/src/plone/app/multilingual/tests/test_catalog.py
index 7eb11af3..e8d911e1 100644
--- a/src/plone/app/multilingual/tests/test_catalog.py
+++ b/src/plone/app/multilingual/tests/test_catalog.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import LANGUAGE_INDEPENDENT
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from Products.CMFCore.utils import getToolByName
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestIndependentLanguageFolder(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/tests/test_directives.py b/src/plone/app/multilingual/tests/test_directives.py
index 492194c8..07aee0fb 100644
--- a/src/plone/app/multilingual/tests/test_directives.py
+++ b/src/plone/app/multilingual/tests/test_directives.py
@@ -6,6 +6,7 @@
 from plone.supermodel.utils import mergedTaggedValueList
 from zope import schema
 from zope.interface import Interface
+
 import unittest
 
 
diff --git a/src/plone/app/multilingual/tests/test_form.py b/src/plone/app/multilingual/tests/test_form.py
index 61a43115..745f042d 100644
--- a/src/plone/app/multilingual/tests/test_form.py
+++ b/src/plone/app/multilingual/tests/test_form.py
@@ -1,14 +1,15 @@
 # -*- coding: utf-8 -*-
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import SITE_OWNER_NAME
 from plone.app.testing import SITE_OWNER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
 from plone.testing._z2_testbrowser import Browser
+from zope.interface import alsoProvides
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from plone.app.multilingual.interfaces import ITranslationManager
-from zope.interface import alsoProvides
 
 
 class TestForm(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_helper_views.py b/src/plone/app/multilingual/tests/test_helper_views.py
index 087f3e88..cad7464b 100644
--- a/src/plone/app/multilingual/tests/test_helper_views.py
+++ b/src/plone/app/multilingual/tests/test_helper_views.py
@@ -1,21 +1,22 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.utils import multilingualMoveObject
-from Products.CMFPlone.interfaces import ILanguage
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import TEST_USER_NAME
 from plone.app.testing import TEST_USER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
-from plone.testing.z2 import Browser
-import transaction
-import unittest
 from plone.registry.interfaces import IRegistry
-from zope.component import getUtility
+from plone.testing.z2 import Browser
+from Products.CMFPlone.interfaces import ILanguage
 from Products.CMFPlone.interfaces import ILanguageSchema
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
+from zope.component import getUtility
 from zope.interface import alsoProvides
 
+import transaction
+import unittest
+
 
 class PAMFuncTestHelperViews(unittest.TestCase):
 
diff --git a/src/plone/app/multilingual/tests/test_lif.py b/src/plone/app/multilingual/tests/test_lif.py
index c449d8c4..eb98925f 100644
--- a/src/plone/app/multilingual/tests/test_lif.py
+++ b/src/plone/app/multilingual/tests/test_lif.py
@@ -1,5 +1,4 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.multilingual import api
 from plone.app.multilingual.dx.interfaces import ILanguageIndependentField
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
@@ -8,6 +7,7 @@
 from plone.dexterity.fti import DexterityFTI
 from plone.dexterity.utils import createContentInContainer
 from plone.uuid.interfaces import IUUID
+from Products.CMFCore.utils import getToolByName
 from z3c.form.interfaces import IDataManager
 from z3c.form.interfaces import IValidator
 from z3c.relationfield import RelationValue
@@ -19,6 +19,7 @@
 from zope.pagetemplate.interfaces import IPageTemplate
 from zope.publisher.interfaces.browser import IDefaultBrowserLayer
 from zope.schema._bootstrapinterfaces import RequiredMissing
+
 import unittest
 
 
diff --git a/src/plone/app/multilingual/tests/test_lrf.py b/src/plone/app/multilingual/tests/test_lrf.py
index db56e9bb..4185132d 100644
--- a/src/plone/app/multilingual/tests/test_lrf.py
+++ b/src/plone/app/multilingual/tests/test_lrf.py
@@ -2,15 +2,16 @@
 from OFS.event import ObjectWillBeRemovedEvent
 from plone.app.multilingual.browser.utils import is_language_independent
 from plone.app.multilingual.browser.utils import multilingualMoveObject
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITranslationManager
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
 from plone.uuid.interfaces import IUUID
 from zope.event import notify
-import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestLanguageRootFolder(unittest.TestCase):
 
diff --git a/src/plone/app/multilingual/tests/test_menu.py b/src/plone/app/multilingual/tests/test_menu.py
index e5afab41..983163e4 100644
--- a/src/plone/app/multilingual/tests/test_menu.py
+++ b/src/plone/app/multilingual/tests/test_menu.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.testing import SITE_OWNER_NAME
 from plone.app.testing import SITE_OWNER_PASSWORD
 from plone.dexterity.utils import createContentInContainer
 from plone.testing._z2_testbrowser import Browser
+from zope.interface import alsoProvides
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from zope.interface import alsoProvides
 
 
 class TestMenu(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_robot.py b/src/plone/app/multilingual/tests/test_robot.py
index 6eaa86e6..decbf2ca 100644
--- a/src/plone/app/multilingual/tests/test_robot.py
+++ b/src/plone/app/multilingual/tests/test_robot.py
@@ -1,6 +1,7 @@
 # -*- coding: utf-8 -*-
 from plone.app.multilingual.testing import PAM_ROBOT_TESTING
 from plone.testing import layered
+
 import robotsuite
 import unittest
 
diff --git a/src/plone/app/multilingual/tests/test_selector.py b/src/plone/app/multilingual/tests/test_selector.py
index 02004d8f..27630443 100644
--- a/src/plone/app/multilingual/tests/test_selector.py
+++ b/src/plone/app/multilingual/tests/test_selector.py
@@ -1,26 +1,27 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.i18n.locales.browser.selector import LanguageSelector
 from plone.app.multilingual import api
-from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
 from plone.app.multilingual.browser.helper_views import selector_view
-from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
-from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
 from plone.app.multilingual.browser.selector import addQuery
 from plone.app.multilingual.browser.selector import getPostPath
+from plone.app.multilingual.browser.selector import LanguageSelectorViewlet
+from plone.app.multilingual.browser.selector import NOT_TRANSLATED_YET_TEMPLATE
+from plone.app.multilingual.interfaces import IMultiLanguageExtraOptionsSchema
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.interfaces import ITG
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.app.multilingual.testing import PAM_INTEGRATION_TESTING
 from plone.dexterity.utils import createContentInContainer
 from plone.registry.interfaces import IRegistry
 from plone.testing.z2 import Browser
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.event import notify
+from zope.interface import alsoProvides
 from zope.lifecycleevent import ObjectModifiedEvent
+
 import transaction
 import unittest
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from zope.interface import alsoProvides
 
 
 class EvilObject(object):
diff --git a/src/plone/app/multilingual/tests/test_setup.py b/src/plone/app/multilingual/tests/test_setup.py
index 8e1dd35c..a288059a 100644
--- a/src/plone/app/multilingual/tests/test_setup.py
+++ b/src/plone/app/multilingual/tests/test_setup.py
@@ -1,15 +1,13 @@
 # -*- coding: utf-8 -*-
-import unittest
-from zope.interface import alsoProvides
-
-from Products.CMFCore.utils import getToolByName
-
 from plone.app.multilingual.browser.setup import SetupMultilingualSite
+from plone.app.multilingual.browser.vocabularies import AllContentLanguageVocabulary  # noqa: E501
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
-from plone.app.multilingual.browser.vocabularies import\
-    AllContentLanguageVocabulary
-from plone.app.multilingual.testing import (PAM_INTEGRATION_TESTING,
-                                            PAM_INTEGRATION_PRESET_TESTING)
+from plone.app.multilingual.testing import PAM_INTEGRATION_PRESET_TESTING
+from plone.app.multilingual.testing import PAM_INTEGRATION_TESTING
+from Products.CMFCore.utils import getToolByName
+from zope.interface import alsoProvides
+
+import unittest
 
 
 class TestSetupMultilingualSite(unittest.TestCase):
diff --git a/src/plone/app/multilingual/tests/test_sitemap.py b/src/plone/app/multilingual/tests/test_sitemap.py
index 7bb0fcaf..dec07048 100644
--- a/src/plone/app/multilingual/tests/test_sitemap.py
+++ b/src/plone/app/multilingual/tests/test_sitemap.py
@@ -1,11 +1,11 @@
 # -*- coding: utf-8 -*-
-from StringIO import StringIO
 from gzip import GzipFile
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
 from plone.registry.interfaces import IRegistry
 from Products.CMFPlone.interfaces import ISiteSchema
+from six import StringIO
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.interface import alsoProvides
diff --git a/src/plone/app/multilingual/tests/test_subscribers.py b/src/plone/app/multilingual/tests/test_subscribers.py
index 70c41eee..01aa52fa 100644
--- a/src/plone/app/multilingual/tests/test_subscribers.py
+++ b/src/plone/app/multilingual/tests/test_subscribers.py
@@ -1,13 +1,13 @@
 # -*- coding: utf-8 -*-
-import unittest
-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.interfaces import ILanguage
 from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
+from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.interfaces import ILanguage
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestSubscribers(unittest.TestCase):
     """There are some events that are fired when an object
diff --git a/src/plone/app/multilingual/tests/test_vocabularies.py b/src/plone/app/multilingual/tests/test_vocabularies.py
index edae0b5c..54f38024 100644
--- a/src/plone/app/multilingual/tests/test_vocabularies.py
+++ b/src/plone/app/multilingual/tests/test_vocabularies.py
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
-import unittest
 from plone.app.multilingual import api
 from plone.app.multilingual.browser.vocabularies import untranslated_languages
+from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from plone.app.multilingual.testing import PAM_FUNCTIONAL_TESTING
 from plone.dexterity.utils import createContentInContainer
-from plone.app.multilingual.interfaces import IPloneAppMultilingualInstalled
 from zope.interface import alsoProvides
 
+import unittest
+
 
 class TestVocabularies(unittest.TestCase):
     layer = PAM_FUNCTIONAL_TESTING
diff --git a/src/plone/app/multilingual/upgrades.py b/src/plone/app/multilingual/upgrades.py
index fe6488fb..13956ddc 100644
--- a/src/plone/app/multilingual/upgrades.py
+++ b/src/plone/app/multilingual/upgrades.py
@@ -1,8 +1,8 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.utils import _createObjectByType
 from plone.app.multilingual import logger
+from Products.CMFCore.utils import getToolByName
 from Products.CMFPlone.interfaces import ILanguage
+from Products.CMFPlone.utils import _createObjectByType
 from time import time
 
 import transaction



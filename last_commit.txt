Repository: borg.localrole


Branch: refs/heads/master
Date: 2018-01-30T18:08:54+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/borg.localrole/commit/5eb0210591611dad173b8aa3a3d57ca49e60e222

Import `activatePluginInterfaces` from the canonical place in `Products.PlonePAS`.

This requires Products.PlonePAS 5.0.1 or later, which is used since Plone 4.3.8.

Files changed:
M CHANGES.rst
M borg/localrole/utils.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d3dc0d6..12eb0a9 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,18 +14,21 @@ New features:
 
 Bug fixes:
 
+- Import ``activatePluginInterfaces`` from the canonical place in ``Products.PlonePAS``.
+  [maurits]
+
 - Python 2 / 3 compat with six.
   [jensens]
 
-- Cleanup: 
+- Cleanup:
 
-    - No self-contained buildout, 
-    - utf8-headers, 
-    - isort, 
+    - No self-contained buildout,
+    - utf8-headers,
+    - isort,
     - ZCA-decorators
     - formatting/readability/pep8,
     - Security decorators
-  
+
   [jensens]
 
 - Fix test for Zope 4.
diff --git a/borg/localrole/utils.py b/borg/localrole/utils.py
index 6834f15..17ce009 100644
--- a/borg/localrole/utils.py
+++ b/borg/localrole/utils.py
@@ -3,8 +3,8 @@
 from borg.localrole.config import LOCALROLE_PLUGIN_NAME
 from borg.localrole.workspace import manage_addWorkspaceLocalRoleManager
 from Products.CMFCore.utils import getToolByName
-from Products.PlonePAS.Extensions.Install import activatePluginInterfaces
 from Products.PlonePAS.plugins.local_role import LocalRolesManager
+from Products.PlonePAS.setuphandlers import activatePluginInterfaces
 from six import StringIO
 
 
diff --git a/setup.py b/setup.py
index 4ca9795..aec4790 100644
--- a/setup.py
+++ b/setup.py
@@ -39,7 +39,7 @@
         'zope.interface',
         'Products.CMFCore',
         'Products.GenericSetup',
-        'Products.PlonePAS',
+        'Products.PlonePAS >= 5.0.1',
         'Products.PluggableAuthService',
         'plone.memoize',
         'Acquisition',


Repository: borg.localrole


Branch: refs/heads/master
Date: 2018-01-30T21:47:22+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/borg.localrole/commit/43e995fd2a332b5f3123747314fdbe3054793a60

Merge pull request #7 from plone/plonepas-canonical-import-master

Import activatePluginInterfaces from canonical place in PlonePAS [master]

Files changed:
M CHANGES.rst
M borg/localrole/utils.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d3dc0d6..12eb0a9 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,18 +14,21 @@ New features:
 
 Bug fixes:
 
+- Import ``activatePluginInterfaces`` from the canonical place in ``Products.PlonePAS``.
+  [maurits]
+
 - Python 2 / 3 compat with six.
   [jensens]
 
-- Cleanup: 
+- Cleanup:
 
-    - No self-contained buildout, 
-    - utf8-headers, 
-    - isort, 
+    - No self-contained buildout,
+    - utf8-headers,
+    - isort,
     - ZCA-decorators
     - formatting/readability/pep8,
     - Security decorators
-  
+
   [jensens]
 
 - Fix test for Zope 4.
diff --git a/borg/localrole/utils.py b/borg/localrole/utils.py
index 6834f15..17ce009 100644
--- a/borg/localrole/utils.py
+++ b/borg/localrole/utils.py
@@ -3,8 +3,8 @@
 from borg.localrole.config import LOCALROLE_PLUGIN_NAME
 from borg.localrole.workspace import manage_addWorkspaceLocalRoleManager
 from Products.CMFCore.utils import getToolByName
-from Products.PlonePAS.Extensions.Install import activatePluginInterfaces
 from Products.PlonePAS.plugins.local_role import LocalRolesManager
+from Products.PlonePAS.setuphandlers import activatePluginInterfaces
 from six import StringIO
 
 
diff --git a/setup.py b/setup.py
index 4ca9795..aec4790 100644
--- a/setup.py
+++ b/setup.py
@@ -39,7 +39,7 @@
         'zope.interface',
         'Products.CMFCore',
         'Products.GenericSetup',
-        'Products.PlonePAS',
+        'Products.PlonePAS >= 5.0.1',
         'Products.PluggableAuthService',
         'plone.memoize',
         'Acquisition',



Repository: plone.formwidget.recurrence


Branch: refs/heads/master
Date: 2018-01-25T17:25:47+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.formwidget.recurrence/commit/87d8f6a63e4c4c5b05dde325311dc3c63936cc81

Add Python 2 / 3 compatibility

Files changed:
M CHANGES.rst
M plone/formwidget/recurrence/browser/json_recurrence.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 19d47a0..8e90889 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Add Python 2 / 3 compatibility
+  [pbauer]
 
 
 2.1.1 (2016-08-15)
diff --git a/plone/formwidget/recurrence/browser/json_recurrence.py b/plone/formwidget/recurrence/browser/json_recurrence.py
index a3ba94c..cd2a79c 100644
--- a/plone/formwidget/recurrence/browser/json_recurrence.py
+++ b/plone/formwidget/recurrence/browser/json_recurrence.py
@@ -90,7 +90,7 @@ def json_string(self):
         while True:
             try:
                 # Get a date
-                date = iterator.next()
+                date = next(iterator)
             except StopIteration:
                 # No more dates
                 break
@@ -152,7 +152,7 @@ def json_string(self):
         num_occurrences = 0
         while True:
             try:
-                iterator.next()
+                next(iterator)
                 num_occurrences += 1
             except StopIteration:
                 break
diff --git a/setup.py b/setup.py
index ffdc5b3..54ade9e 100644
--- a/setup.py
+++ b/setup.py
@@ -27,6 +27,7 @@
     zip_safe=False,
     install_requires=[
         'setuptools',
+        'six',
         'Products.CMFCore',
         'Products.CMFPlone',
         'python-dateutil',


Repository: plone.formwidget.recurrence


Branch: refs/heads/master
Date: 2018-01-26T17:43:49+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.formwidget.recurrence/commit/67aee4fdad3dd902a2e1e268b140ae585e49d1b6

six is not needed

Files changed:
M setup.py

diff --git a/setup.py b/setup.py
index 54ade9e..ffdc5b3 100644
--- a/setup.py
+++ b/setup.py
@@ -27,7 +27,6 @@
     zip_safe=False,
     install_requires=[
         'setuptools',
-        'six',
         'Products.CMFCore',
         'Products.CMFPlone',
         'python-dateutil',


Repository: plone.formwidget.recurrence


Branch: refs/heads/master
Date: 2018-01-26T17:44:18+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.formwidget.recurrence/commit/e5c321160105b367b95b6500c75ec4c466ea5077

Merge pull request #23 from plone/python3

Add Python 2 / 3 compatibility

Files changed:
M CHANGES.rst
M plone/formwidget/recurrence/browser/json_recurrence.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 19d47a0..8e90889 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Add Python 2 / 3 compatibility
+  [pbauer]
 
 
 2.1.1 (2016-08-15)
diff --git a/plone/formwidget/recurrence/browser/json_recurrence.py b/plone/formwidget/recurrence/browser/json_recurrence.py
index a3ba94c..cd2a79c 100644
--- a/plone/formwidget/recurrence/browser/json_recurrence.py
+++ b/plone/formwidget/recurrence/browser/json_recurrence.py
@@ -90,7 +90,7 @@ def json_string(self):
         while True:
             try:
                 # Get a date
-                date = iterator.next()
+                date = next(iterator)
             except StopIteration:
                 # No more dates
                 break
@@ -152,7 +152,7 @@ def json_string(self):
         num_occurrences = 0
         while True:
             try:
-                iterator.next()
+                next(iterator)
                 num_occurrences += 1
             except StopIteration:
                 break


